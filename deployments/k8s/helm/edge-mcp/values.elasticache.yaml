# Example values for deploying edge-mcp with AWS ElastiCache
# Usage: helm install edge-mcp ./edge-mcp -f ./edge-mcp/values.elasticache.yaml

# Disable internal Redis since we're using ElastiCache
redis:
  enabled: false

# External Redis/ElastiCache configuration
externalRedis:
  # Replace with your actual ElastiCache endpoint
  # Example: my-cluster.abc123.cache.amazonaws.com
  host: "your-elasticache-cluster.cache.amazonaws.com"
  port: 6379
  # If using ElastiCache with auth token
  password: ""  # Or use a secret reference
  database: 0
  # TLS configuration for ElastiCache
  tls:
    enabled: true
    # Set to false in production with proper certificates
    skipVerify: false

# Edge MCP specific configuration
edgeMcp:
  # Cache configuration with external Redis
  cache:
    redis:
      enabled: true  # Enable Redis caching features
    l1:
      maxItems: 10000
      ttl: "5m"
    l2:
      ttl: "1h"

  # Service Account with AWS IAM role (if using IRSA)
  # Uncomment and configure for AWS IAM roles
  # serviceAccount:
  #   annotations:
  #     eks.amazonaws.com/role-arn: arn:aws:iam::123456789012:role/EdgeMCPRole

  # Production resource requirements
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

# Autoscaling for production
autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80