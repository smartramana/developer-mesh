apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "worker.fullname" . }}-config
  namespace: {{ .Values.namespace.name | default .Release.Namespace }}
  labels:
    {{- include "worker.labels" . | nindent 4 }}
data:
  # Worker configuration
  consumer-name: {{ .Values.worker.consumerName | quote }}
  health-endpoint: {{ .Values.worker.healthEndpoint | quote }}

  # Redis Stream configuration
  redis-stream-name: "webhook-events"
  redis-consumer-group: "webhook-processors"

  # AWS Region (for Bedrock)
  aws-region: {{ .Values.worker.aws.region | quote }}

  # Environment
  environment: "production"